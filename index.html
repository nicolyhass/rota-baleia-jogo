<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz da Baleia-Jubarte - 15 Perguntas Educativas</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Press Start 2P', monospace;
            background: #000000;
            min-height: 100%;
            overflow: hidden;
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
        }

        html {
            height: 100%;
        }

        .game-container {
            width: 100vw;
            height: 100vh;
            position: relative;
            background: #000000;
            overflow: hidden;
            border: 8px solid #333333;
            box-shadow: 
                inset 0 0 0 4px #666666,
                inset 0 0 0 8px #999999,
                0 0 20px rgba(0,255,255,0.5);
        }

        .world-map {
            width: 100%;
            height: 100%;
            position: relative;
            background: linear-gradient(180deg, #87CEEB 0%, #4682B4 30%, #1E90FF 70%, #000080 100%);
            overflow: hidden;
        }

        /* Pixel Art Ocean Background */
        .ocean-background {
            position: absolute;
            width: 100%;
            height: 100%;
            background: 
                /* Sky gradient */
                linear-gradient(180deg, #87CEEB 0%, #4682B4 40%, #1E90FF 100%),
                /* Pixel waves pattern */
                repeating-linear-gradient(
                    90deg,
                    #1E90FF 0px,
                    #1E90FF 8px,
                    #4169E1 8px,
                    #4169E1 16px,
                    #0000CD 16px,
                    #0000CD 24px,
                    #000080 24px,
                    #000080 32px
                );
            background-size: 100% 100%, 32px 100%;
            animation: oceanWaves 6s linear infinite;
        }

        @keyframes oceanWaves {
            0% { background-position: 0 0, 0 0; }
            100% { background-position: 0 0, 32px 0; }
        }

        /* Route Path */
        .route-path {
            position: absolute;
            top: 60%;
            left: 0;
            width: 100%;
            height: 12px;
            background: 
                linear-gradient(90deg, 
                    #FF6B6B 0%, 
                    #4ECDC4 25%, 
                    #45B7D1 50%, 
                    #96CEB4 75%, 
                    #FFEAA7 100%
                );
            border-top: 3px solid #00ffff;
            border-bottom: 3px solid #00ffff;
            border-radius: 6px;
            z-index: 10;
            box-shadow: 
                0 0 20px rgba(0,255,255,0.6),
                inset 0 0 10px rgba(255,255,255,0.3);
            animation: routeGlow 2s ease-in-out infinite alternate;
        }

        @keyframes routeGlow {
            0% { 
                box-shadow: 
                    0 0 20px rgba(0,255,255,0.6),
                    inset 0 0 10px rgba(255,255,255,0.3);
            }
            100% { 
                box-shadow: 
                    0 0 30px rgba(0,255,255,1),
                    inset 0 0 15px rgba(255,255,255,0.5);
            }
        }

        /* Progress Trail Effect */
        .progress-trail {
            position: absolute;
            top: 60%;
            left: 0;
            height: 6px;
            background: linear-gradient(90deg, 
                #FF6B6B 0%, 
                #4ECDC4 25%, 
                #45B7D1 50%, 
                #96CEB4 75%, 
                #FFEAA7 100%
            );
            z-index: 8;
            border-radius: 3px;
            box-shadow: 0 0 20px rgba(0,255,255,0.8);
            transition: width 4s ease-in-out;
        }

        /* Particle effects */
        .progress-particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: particleFloat 3s linear infinite;
            z-index: 12;
        }

        @keyframes particleFloat {
            0% { 
                opacity: 0;
                transform: translateY(0) scale(0.5);
            }
            20% { 
                opacity: 1;
                transform: translateY(-25px) scale(1);
            }
            80% { 
                opacity: 1;
                transform: translateY(-50px) scale(1.3);
            }
            100% { 
                opacity: 0;
                transform: translateY(-75px) scale(0.3);
            }
        }

        /* Emoji Whale */
        .whale-sprite {
            position: absolute;
            top: 55%;
            left: 2%;
            width: 80px;
            height: 60px;
            z-index: 30;
            transition: left 4s ease-in-out;
            transform: translateY(-50%);
        }

        .whale-body {
            position: relative;
            width: 80px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            animation: whaleSwim 5s ease-in-out infinite;
        }

        .whale-body::before {
            content: 'üêã';
            display: block;
            transform: scaleX(-1); /* Flip horizontally so head faces right */
        }

        /* Water spout */
        .whale-body .water-spout {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 25px;
            background: linear-gradient(to top, #87CEEB 0%, rgba(135, 206, 235, 0.7) 50%, transparent 100%);
            border-radius: 2px;
            animation: waterSpout 3s ease-in-out infinite;
        }

        @keyframes waterSpout {
            0%, 70% { opacity: 0; transform: translateX(-50%) scaleY(0); }
            80% { opacity: 1; transform: translateX(-50%) scaleY(1); }
            100% { opacity: 0; transform: translateX(-50%) scaleY(0.5); }
        }

        @keyframes whaleSwim {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-8px) rotate(1deg); }
        }

        /* Water Splash Effect */
        .water-splash {
            position: absolute;
            top: 50%;
            left: 0;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle, #4ECDC4 0%, #45B7D1 50%, transparent 70%);
            border-radius: 50%;
            opacity: 0;
            animation: splash 1s ease-out infinite;
            z-index: 25;
        }

        @keyframes splash {
            0% { 
                opacity: 0;
                transform: scale(0.5) translateY(0);
                background: radial-gradient(circle, #4ECDC4 0%, #45B7D1 50%, transparent 70%);
            }
            50% { 
                opacity: 1;
                transform: scale(1.2) translateY(-10px);
                background: radial-gradient(circle, #00ffff 0%, #4ECDC4 50%, transparent 70%);
            }
            100% { 
                opacity: 0;
                transform: scale(1.5) translateY(-20px);
                background: radial-gradient(circle, #96CEB4 0%, transparent 70%);
            }
        }

        /* Progress Indicators */
        .checkpoint {
            position: absolute;
            top: 52%;
            width: 24px;
            height: 24px;
            background: radial-gradient(circle, #FFD700 0%, #FFA500 70%);
            border: 3px solid #FF6B6B;
            border-radius: 50%;
            z-index: 15;
            transform: translateY(-50%);
            box-shadow: 
                0 0 15px rgba(255, 107, 107, 0.8),
                inset 0 0 8px rgba(255,255,255,0.3);
            animation: checkpointPulse 2s ease-in-out infinite;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
            color: #000;
        }

        .checkpoint.completed {
            background: radial-gradient(circle, #4ECDC4 0%, #45B7D1 70%);
            border-color: #00ffff;
            box-shadow: 
                0 0 25px rgba(0, 255, 255, 1),
                inset 0 0 12px rgba(255,255,255,0.5);
            animation: checkpointCompleted 2s ease-in-out infinite;
            color: #fff;
        }

        @keyframes checkpointPulse {
            0%, 100% { 
                transform: translateY(-50%) scale(1);
                box-shadow: 
                    0 0 15px rgba(255, 107, 107, 0.8),
                    inset 0 0 8px rgba(255,255,255,0.3);
            }
            50% { 
                transform: translateY(-50%) scale(1.1);
                box-shadow: 
                    0 0 20px rgba(255, 107, 107, 1),
                    inset 0 0 12px rgba(255,255,255,0.5);
            }
        }

        @keyframes checkpointCompleted {
            0%, 100% { 
                transform: translateY(-50%) scale(1) rotate(0deg);
                box-shadow: 
                    0 0 25px rgba(0, 255, 255, 1),
                    inset 0 0 12px rgba(255,255,255,0.5);
            }
            50% { 
                transform: translateY(-50%) scale(1.2) rotate(180deg);
                box-shadow: 
                    0 0 35px rgba(0, 255, 255, 1),
                    0 0 50px rgba(78, 205, 196, 0.8),
                    inset 0 0 15px rgba(255,255,255,0.7);
            }
        }

        .checkpoint-1 { left: 20%; }
        .checkpoint-2 { left: 40%; }
        .checkpoint-3 { left: 60%; }
        .checkpoint-4 { left: 80%; }



        /* Pixel Clouds */
        .cloud {
            position: absolute;
            background: #FFFFFF;
            border-radius: 20px;
            opacity: 0.8;
            animation: cloudFloat 30s linear infinite;
        }

        .cloud::before,
        .cloud::after {
            content: '';
            position: absolute;
            background: #FFFFFF;
            border-radius: 50%;
        }

        .cloud-1 {
            top: 15%;
            left: -100px;
            width: 60px;
            height: 20px;
        }

        .cloud-1::before {
            top: -10px;
            left: 10px;
            width: 30px;
            height: 30px;
        }

        .cloud-1::after {
            top: -5px;
            right: 10px;
            width: 25px;
            height: 25px;
        }

        .cloud-2 {
            top: 25%;
            left: -80px;
            width: 40px;
            height: 15px;
            animation-delay: -10s;
        }

        .cloud-2::before {
            top: -8px;
            left: 8px;
            width: 20px;
            height: 20px;
        }

        .cloud-2::after {
            top: -3px;
            right: 8px;
            width: 15px;
            height: 15px;
        }

        @keyframes cloudFloat {
            0% { transform: translateX(0); }
            100% { transform: translateX(calc(100vw + 100px)); }
        }

        /* Retro CRT Effect */
        .world-map::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                repeating-linear-gradient(
                    0deg,
                    transparent 0px,
                    transparent 2px,
                    rgba(0,255,0,0.03) 2px,
                    rgba(0,255,0,0.03) 4px
                );
            pointer-events: none;
            z-index: 1000;
        }



        /* Game UI */
        .game-ui {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 200;
            background: #000000;
            padding: 15px;
            border: 4px solid #00ffff;
            color: #00ffff;
            font-size: 10px;
            box-shadow: 
                0 0 20px rgba(0,255,255,0.8),
                inset 0 0 10px rgba(0,255,255,0.2);
            text-shadow: 0 0 5px #00ffff;
        }

        .score {
            margin-bottom: 10px;
        }

        .progress {
            margin-bottom: 10px;
        }

        /* Quiz Modal */
        .quiz-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #1a1a2e;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 300;
        }

        /* Hide world animations when quiz is active */
        .quiz-modal.active ~ .game-container .world-map {
            animation-play-state: paused;
        }

        .quiz-modal.active ~ .game-container .ocean-background {
            animation-play-state: paused;
        }

        .quiz-modal.active ~ .game-container .whale-sprite .whale-body {
            animation-play-state: paused;
        }

        .quiz-modal.active ~ .game-container .cloud {
            animation-play-state: paused;
        }

        .quiz-content {
            background: #000000;
            padding: 30px;
            border: 6px solid #00ffff;
            max-width: 600px;
            text-align: center;
            color: #00ffff;
            box-shadow: 
                0 0 40px rgba(0,255,255,0.8),
                inset 0 0 20px rgba(0,255,255,0.1);
            position: relative;
        }

        .quiz-content::before {
            content: '';
            position: absolute;
            top: -6px;
            left: -6px;
            right: -6px;
            bottom: -6px;
            background: 
                repeating-linear-gradient(
                    45deg,
                    #00ffff 0px,
                    #00ffff 2px,
                    transparent 2px,
                    transparent 8px
                );
            z-index: -1;
            animation: borderGlow 1s linear infinite;
        }

        @keyframes borderGlow {
            0% { opacity: 0.5; }
            50% { opacity: 1; }
            100% { opacity: 0.5; }
        }

        .quiz-header {
            font-size: 14px;
            margin-bottom: 20px;
            color: #ffff00;
            text-shadow: 0 0 10px #ffff00;
            animation: headerPulse 2s ease-in-out infinite;
        }

        @keyframes headerPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .quiz-question {
            font-size: 12px;
            margin-bottom: 25px;
            line-height: 1.6;
            padding: 15px;
            background: rgba(0,255,255,0.1);
            border: 2px solid #00ffff;
            color: #ffffff;
            text-shadow: 0 0 5px #00ffff;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }

        .quiz-option {
            background: #000000;
            border: 3px solid #00ff00;
            color: #00ff00;
            padding: 15px;
            cursor: pointer;
            font-family: 'Press Start 2P', monospace;
            font-size: 9px;
            transition: all 0.2s ease;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            text-shadow: 0 0 5px #00ff00;
            position: relative;
            overflow: hidden;
        }

        .quiz-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0,255,0,0.2), transparent);
            transition: left 0.5s ease;
        }

        .quiz-option:hover {
            background: rgba(0,255,0,0.1);
            box-shadow: 0 0 15px rgba(0,255,0,0.8);
            transform: scale(1.02);
        }

        .quiz-option:hover::before {
            left: 100%;
        }

        .quiz-option.correct {
            background: #000000;
            border-color: #00ff00;
            color: #00ff00;
            box-shadow: 
                0 0 20px #00ff00,
                inset 0 0 20px rgba(0,255,0,0.3);
            animation: correctFlash 1s ease;
        }

        .quiz-option.incorrect {
            background: #000000;
            border-color: #ff0000;
            color: #ff0000;
            box-shadow: 
                0 0 20px #ff0000,
                inset 0 0 20px rgba(255,0,0,0.3);
            animation: incorrectGlitch 0.6s ease;
        }

        @keyframes correctFlash {
            0% { 
                background: #000000;
                box-shadow: 0 0 20px #00ff00;
            }
            25% { 
                background: rgba(0,255,0,0.3);
                box-shadow: 0 0 40px #00ff00;
            }
            50% { 
                background: #000000;
                box-shadow: 0 0 60px #00ff00;
            }
            75% { 
                background: rgba(0,255,0,0.2);
                box-shadow: 0 0 40px #00ff00;
            }
            100% { 
                background: #000000;
                box-shadow: 0 0 20px #00ff00;
            }
        }

        @keyframes incorrectGlitch {
            0% { transform: translateX(0); }
            10% { transform: translateX(-3px) scaleX(0.98); }
            20% { transform: translateX(3px) scaleX(1.02); }
            30% { transform: translateX(-2px) scaleX(0.99); }
            40% { transform: translateX(2px) scaleX(1.01); }
            50% { transform: translateX(-1px) scaleX(0.995); }
            60% { transform: translateX(1px) scaleX(1.005); }
            70% { transform: translateX(-0.5px) scaleX(0.998); }
            80% { transform: translateX(0.5px) scaleX(1.002); }
            90% { transform: translateX(-0.2px) scaleX(0.999); }
            100% { transform: translateX(0) scaleX(1); }
        }

        .quiz-result {
            font-size: 12px;
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none;
            line-height: 1.5;
        }

        .quiz-result.correct {
            background: rgba(0,255,0,0.1);
            border: 2px solid #00ff00;
            color: #00ff00;
            text-shadow: 0 0 5px #00ff00;
        }

        .quiz-result.incorrect {
            background: rgba(255,0,0,0.1);
            border: 2px solid #ff0000;
            color: #ff0000;
            text-shadow: 0 0 5px #ff0000;
        }

        .continue-btn {
            background: #000000;
            color: #ffff00;
            border: 3px solid #ffff00;
            padding: 15px 30px;
            font-family: 'Press Start 2P', monospace;
            font-size: 10px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.2s ease;
            display: none;
            text-shadow: 0 0 5px #ffff00;
            position: relative;
            overflow: hidden;
        }

        .continue-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,0,0.3), transparent);
            transition: left 0.3s ease;
        }

        .continue-btn:hover {
            background: rgba(255,255,0,0.1);
            box-shadow: 0 0 20px rgba(255,255,0,0.8);
            transform: scale(1.05);
        }

        .continue-btn:hover::before {
            left: 100%;
        }

        /* Animation Screen */
        .animation-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, #87CEEB 0%, #4682B4 40%, #1E90FF 100%);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 350;
            flex-direction: column;
        }

        .animation-content {
            text-align: center;
            color: #ffffff;
            background: rgba(0,0,0,0.8);
            padding: 30px;
            border: 4px solid #00ffff;
            border-radius: 15px;
            box-shadow: 
                0 0 30px rgba(0,255,255,0.8),
                inset 0 0 20px rgba(0,255,255,0.1);
            max-width: 500px;
            position: relative;
            margin-bottom: 50px;
        }

        .animation-title {
            font-size: 16px;
            margin-bottom: 15px;
            color: #ffff00;
            text-shadow: 0 0 10px #ffff00;
            animation: titleGlow 2s ease-in-out infinite alternate;
        }

        @keyframes titleGlow {
            0% { text-shadow: 0 0 10px #ffff00; }
            100% { text-shadow: 0 0 20px #ffff00, 0 0 30px #ffff00; }
        }

        .animation-description {
            font-size: 11px;
            line-height: 1.6;
            margin-bottom: 20px;
            color: #00ffff;
        }

        .whale-animation-container {
            position: relative;
            width: 100%;
            height: 200px;
            overflow: hidden;
            border-radius: 10px;
            border: 2px solid #00ffff;
        }

        /* Antarctica Scene */
        .antarctica-scene {
            background: 
                /* Pure ocean blue gradient */
                linear-gradient(180deg, #4682B4 0%, #1E90FF 30%, #0066CC 70%, #003366 100%);
            animation: icyWaves 4s linear infinite;
        }

        .antarctica-scene::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 120px;
            height: 70px;
            background: 
                /* White ice island */
                linear-gradient(180deg, #FFFFFF 0%, #F0F8FF 30%, #E6E6FA 70%, #D3D3D3 100%);
            border-radius: 60px 60px 0 0;
            box-shadow: 
                inset 0 -8px 0 #B0C4DE,
                0 8px 0 rgba(176, 196, 222, 0.3);
        }

        .antarctica-scene::after {
            content: '';
            position: absolute;
            bottom: 45px;
            left: 15px;
            width: 90px;
            height: 18px;
            background: #FFFFFF;
            border-radius: 45px;
            box-shadow: 
                0 3px 0 #F0F8FF,
                15px 8px 0 #F5F5F5,
                35px 3px 0 #FFFFFF,
                50px 10px 0 #F8F8FF;
        }

        /* Atlantic Ocean Scene */
        .atlantic-scene {
            background: 
                /* Deep ocean gradient */
                linear-gradient(180deg, #4169E1 0%, #0000CD 30%, #000080 70%, #191970 100%),
                /* Deep water waves */
                repeating-linear-gradient(
                    90deg,
                    #000080 0px,
                    #000080 8px,
                    #191970 8px,
                    #191970 16px
                );
            background-size: 100% 100%, 16px 100%;
            animation: deepWaves 3s linear infinite;
        }

        /* Brazilian Coast Scene */
        .brazil-scene {
            background: 
                /* Tropical sky */
                linear-gradient(180deg, #87CEEB 0%, #20B2AA 40%, #008B8B 100%),
                /* Tropical waves */
                repeating-linear-gradient(
                    90deg,
                    #20B2AA 0px,
                    #20B2AA 10px,
                    #008B8B 10px,
                    #008B8B 20px
                );
            background-size: 100% 100%, 20px 100%;
            animation: tropicalWaves 2.5s linear infinite;
        }

        .brazil-scene::before {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 140px;
            height: 50px;
            background: linear-gradient(45deg, #F4A460 0%, #DEB887 50%, #D2B48C 100%);
            border-radius: 70px 70px 0 0;
            box-shadow: -15px 0 0 #32CD32, -30px -8px 0 #228B22, -45px -3px 0 #90EE90;
        }

        .brazil-scene::after {
            content: 'üå¥';
            position: absolute;
            bottom: 40px;
            right: 8%;
            font-size: 28px;
        }

        /* Nursery Scene - Golden Sunset */
        .nursery-scene {
            background: 
                /* Sky - Golden sunset gradient */
                linear-gradient(180deg, #FFD700 0%, #FFA500 20%, #FF8C00 40%, #FF6347 60%, #FF4500 70%, #DC143C 80%, #1E90FF 80%, #0066CC 100%),
                /* Ocean waves at bottom */
                repeating-linear-gradient(
                    90deg,
                    #1E90FF 0px,
                    #1E90FF 12px,
                    #0066CC 12px,
                    #0066CC 24px
                );
            background-size: 100% 100%, 24px 100%;
            animation: goldenWaves 2s linear infinite;
        }

        .nursery-scene::before {
            content: '';
            position: absolute;
            top: 10px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: radial-gradient(circle, #FFFF00 0%, #FFD700 70%, transparent 70%);
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
            animation: sunGlow 3s ease-in-out infinite alternate;
        }

        .nursery-scene::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 40%;
            background: linear-gradient(180deg, transparent 0%, #1E90FF 20%, #0066CC 100%);
            pointer-events: none;
        }

        @keyframes icyWaves {
            0% { background-position: 0 0, 0 0; }
            100% { background-position: 0 0, 24px 0; }
        }

        @keyframes deepWaves {
            0% { background-position: 0 0, 0 0; }
            100% { background-position: 0 0, 16px 0; }
        }

        @keyframes tropicalWaves {
            0% { background-position: 0 0, 0 0; }
            100% { background-position: 0 0, 20px 0; }
        }

        @keyframes goldenWaves {
            0% { background-position: 0 0, 0 0; }
            100% { background-position: 0 0, 24px 0; }
        }

        @keyframes sunGlow {
            0% { transform: scale(1); opacity: 0.8; }
            100% { transform: scale(1.2); opacity: 1; }
        }

        @keyframes animationWaves {
            0% { background-position: 0 0, 0 0; }
            100% { background-position: 0 0, 16px 0; }
        }

        .animation-whale {
            position: absolute;
            top: 50%;
            left: -100px;
            width: 80px;
            height: 50px;
            transform: translateY(-50%);
            z-index: 10;
        }

        .animation-whale-body {
            position: relative;
            width: 80px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            animation: animationWhaleSwim 3s ease-in-out infinite;
        }

        .animation-whale-body::before {
            content: 'üêã';
            display: block;
            transform: scaleX(-1); /* Flip horizontally so head faces right */
        }

        .animation-whale-spout {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 25px;
            background: linear-gradient(to top, #87CEEB 0%, rgba(135, 206, 235, 0.7) 50%, transparent 100%);
            border-radius: 2px;
            animation: animationWaterSpout 3s ease-in-out infinite;
        }

        @keyframes animationWaterSpout {
            0%, 70% { opacity: 0; transform: translateX(-50%) scaleY(0); }
            80% { opacity: 1; transform: translateX(-50%) scaleY(1); }
            100% { opacity: 0; transform: translateX(-50%) scaleY(0.5); }
        }

        @keyframes animationWhaleSwim {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-8px) rotate(2deg); }
        }

        .baby-whale {
            position: absolute;
            top: 60%;
            left: -60px;
            width: 40px;
            height: 25px;
            transform: translateY(-50%);
            z-index: 10;
            opacity: 0;
        }

        .baby-whale-body {
            position: relative;
            width: 40px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            animation: babyWhaleSwim 2s ease-in-out infinite;
        }

        .baby-whale-body::before {
            content: 'üêã';
            display: block;
            transform: scaleX(-1); /* Flip horizontally so head faces right */
            opacity: 0.8;
            filter: brightness(1.2) hue-rotate(20deg); /* Make baby whale slightly lighter/different */
        }

        @keyframes babyWhaleSwim {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-4px) rotate(1deg); }
        }

        .continue-animation-btn {
            background: #000000;
            color: #00ff00;
            border: 3px solid #00ff00;
            padding: 12px 25px;
            font-family: 'Press Start 2P', monospace;
            font-size: 9px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.2s ease;
            text-shadow: 0 0 5px #00ff00;
            position: relative;
            overflow: hidden;
        }

        .continue-animation-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0,255,0,0.3), transparent);
            transition: left 0.3s ease;
        }

        .continue-animation-btn:hover {
            background: rgba(0,255,0,0.1);
            box-shadow: 0 0 20px rgba(0,255,0,0.8);
            transform: scale(1.05);
        }

        .continue-animation-btn:hover::before {
            left: 100%;
        }

        /* Victory Screen */
        .victory-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                repeating-linear-gradient(
                    45deg,
                    #ff00ff 0px,
                    #ff00ff 20px,
                    #00ffff 20px,
                    #00ffff 40px,
                    #ffff00 40px,
                    #ffff00 60px,
                    #ff0000 60px,
                    #ff0000 80px
                );
            background-size: 200% 200%;
            animation: retroVictory 2s linear infinite;
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 400;
        }

        @keyframes retroVictory {
            0% { background-position: 0% 0%; }
            100% { background-position: 100% 100%; }
        }

        .victory-content {
            text-align: center;
            color: #ffffff;
            background: #000000;
            padding: 40px;
            border: 6px solid #ffff00;
            box-shadow: 
                0 0 50px rgba(255,255,0,1),
                inset 0 0 30px rgba(255,255,0,0.2);
            max-width: 600px;
            position: relative;
        }

        .victory-content::before {
            content: '';
            position: absolute;
            top: -6px;
            left: -6px;
            right: -6px;
            bottom: -6px;
            background: 
                repeating-linear-gradient(
                    0deg,
                    #ffff00 0px,
                    #ffff00 4px,
                    #ff00ff 4px,
                    #ff00ff 8px,
                    #00ffff 8px,
                    #00ffff 12px
                );
            z-index: -1;
            animation: victoryBorder 0.5s linear infinite;
        }

        @keyframes victoryBorder {
            0% { transform: translateY(0); }
            100% { transform: translateY(-12px); }
        }

        .victory-title {
            font-size: 20px;
            margin-bottom: 20px;
            color: #ffff00;
            text-shadow: 
                0 0 10px #ffff00,
                0 0 20px #ffff00,
                0 0 30px #ffff00;
            animation: victoryGlow 1s ease-in-out infinite alternate;
        }

        @keyframes victoryGlow {
            0% { 
                text-shadow: 
                    0 0 10px #ffff00,
                    0 0 20px #ffff00,
                    0 0 30px #ffff00;
            }
            100% { 
                text-shadow: 
                    0 0 20px #ffff00,
                    0 0 30px #ffff00,
                    0 0 40px #ffff00,
                    0 0 50px #ffff00;
            }
        }

        .victory-stats {
            font-size: 12px;
            margin: 20px 0;
            line-height: 2;
        }

        .restart-btn {
            background: #000000;
            color: #00ff00;
            border: 4px solid #00ff00;
            padding: 15px 30px;
            font-family: 'Press Start 2P', monospace;
            font-size: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-shadow: 0 0 5px #00ff00;
            position: relative;
            overflow: hidden;
        }

        .restart-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0,255,0,0.3), transparent);
            transition: left 0.3s ease;
        }

        .restart-btn:hover {
            background: rgba(0,255,0,0.1);
            box-shadow: 0 0 25px rgba(0,255,0,1);
            transform: scale(1.05);
        }

        .restart-btn:hover::before {
            left: 100%;
        }

        /* Responsive Design */
        @media (max-width: 800px) {
            .quiz-options {
                grid-template-columns: 1fr;
            }
            
            .quiz-content {
                padding: 20px;
                margin: 20px;
            }
            
            .quiz-question {
                font-size: 12px;
            }
            
            .quiz-option {
                font-size: 9px;
                padding: 12px;
            }
            
            .victory-title {
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="world-map">
            <div class="ocean-background"></div>
            
            <!-- Route Path -->
            <div class="route-path"></div>
            
            <!-- Progress Trail -->
            <div class="progress-trail" id="progress-trail"></div>
            
            <!-- Progress Checkpoints -->
            <div class="checkpoint checkpoint-1" id="checkpoint-1">1</div>
            <div class="checkpoint checkpoint-2" id="checkpoint-2">2</div>
            <div class="checkpoint checkpoint-3" id="checkpoint-3">3</div>
            <div class="checkpoint checkpoint-4" id="checkpoint-4">4</div>
            
            <!-- Animated Whale -->
            <div class="whale-sprite" id="whale-sprite">
                <div class="whale-body">
                    <div class="water-spout"></div>
                </div>
                <div class="water-splash"></div>
            </div>
            
            <!-- Floating Clouds -->
            <div class="cloud cloud-1"></div>
            <div class="cloud cloud-2"></div>
        </div>
        
        <!-- Game UI -->
        <div class="game-ui">
            <div class="score">Pontua√ß√£o: <span id="score">0</span></div>
            <div class="progress">Pergunta: <span id="current-question">1</span>/15</div>
        </div>
        
        <!-- Animation Screen -->
        <div class="animation-screen" id="animation-screen">
            <div class="animation-content">
                <div class="animation-title" id="animation-title">üêã Chegando √† Ant√°rtida! üêã</div>
                <div class="animation-description" id="animation-description">
                    A baleia-jubarte chegou √†s √°guas geladas da Ant√°rtida, onde se alimenta de krill nutritivo!
                </div>
                <div class="whale-animation-container" id="whale-animation-container">
                    <div class="animation-whale" id="animation-whale">
                        <div class="animation-whale-body">
                            <div class="animation-whale-spout"></div>
                        </div>
                    </div>
                    <div class="baby-whale" id="baby-whale">
                        <div class="baby-whale-body"></div>
                    </div>
                </div>
                <button class="continue-animation-btn" id="continue-animation-btn">Continuar Jornada</button>
            </div>
        </div>

        <!-- Quiz Modal -->
        <div class="quiz-modal" id="quiz-modal">
            <div class="quiz-content">
                <div class="quiz-header">üêã Quiz da Baleia-Jubarte üêã</div>
                <div class="quiz-question" id="quiz-question"></div>
                <div class="quiz-options" id="quiz-options"></div>
                <div class="quiz-result" id="quiz-result"></div>
                <button class="continue-btn" id="continue-btn">Pr√≥xima Pergunta</button>
            </div>
        </div>
        
        <!-- Victory Screen -->
        <div class="victory-screen" id="victory-screen">
            <div class="victory-content">
                <div class="victory-title">üéâ PARAB√âNS! üéâ</div>
                <div>Voc√™ completou a jornada da baleia-jubarte!</div>
                <div class="victory-stats">
                    <div>Pontua√ß√£o Final: <span id="final-score">0</span></div>
                    <div>Perguntas Corretas: <span id="correct-answers">0</span>/15</div>
                    <div>Dist√¢ncia Percorrida: 25.000 km</div>
                    <div>Voc√™ aprendeu sobre a incr√≠vel migra√ß√£o</div>
                    <div>das baleias-jubarte!</div>
                </div>
                <button class="restart-btn" onclick="restartGame()">Jogar Novamente</button>
            </div>
        </div>
    </div>

    <script>
        // Game State
        let currentQuestion = 1;
        let score = 0;
        let correctAnswers = 0;

        // Quiz Questions (15 questions)
        const quizData = [
            {
                question: "De onde as baleias-jubarte partem para sua migra√ß√£o?",
                options: ["Ant√°rtida", "Brasil", "√Åfrica", "Austr√°lia"],
                correct: 0,
                explanation: "As baleias-jubarte partem da Ant√°rtida, onde se alimentam de krill durante o ver√£o austral."
            },
            {
                question: "Qual √© a principal raz√£o da migra√ß√£o das baleias-jubarte?",
                options: ["Buscar comida", "Reprodu√ß√£o e cuidado dos filhotes", "Fugir de predadores", "Mudan√ßa de temperatura"],
                correct: 1,
                explanation: "Elas migram para √°guas mais quentes para reprodu√ß√£o e cuidado dos filhotes rec√©m-nascidos."
            },
            {
                question: "Quantos quil√¥metros aproximadamente as baleias percorrem na migra√ß√£o completa?",
                options: ["5.000 km", "15.000 km", "25.000 km", "35.000 km"],
                correct: 2,
                explanation: "A migra√ß√£o das baleias-jubarte pode chegar a 25.000 km, sendo uma das maiores migra√ß√µes do reino animal!"
            },
            {
                question: "Durante a migra√ß√£o, as baleias-jubarte:",
                options: ["Comem constantemente", "Jejuam por meses", "Ca√ßam peixes pequenos", "Dormem no fundo do mar"],
                correct: 1,
                explanation: "Durante a migra√ß√£o e reprodu√ß√£o, as baleias jejuam por at√© 8 meses, vivendo de suas reservas de gordura."
            },
            {
                question: "Qual √© o tamanho m√©dio de uma baleia-jubarte adulta?",
                options: ["8-10 metros", "12-16 metros", "18-22 metros", "25-30 metros"],
                correct: 1,
                explanation: "As baleias-jubarte adultas medem entre 12-16 metros de comprimento e podem pesar at√© 40 toneladas."
            },
            {
                question: "O que as baleias-jubarte comem principalmente na Ant√°rtida?",
                options: ["Peixes grandes", "Krill", "Lulas", "Algas marinhas"],
                correct: 1,
                explanation: "Na Ant√°rtida, elas se alimentam principalmente de krill, pequenos crust√°ceos ricos em nutrientes."
            },
            {
                question: "Por quanto tempo as baleias-jubarte podem prender a respira√ß√£o?",
                options: ["5-10 minutos", "15-20 minutos", "30-45 minutos", "1-2 horas"],
                correct: 2,
                explanation: "As baleias-jubarte podem ficar submersas por 30-45 minutos, mas normalmente respiram a cada 5-10 minutos."
            },
            {
                question: "Qual √© o status de conserva√ß√£o atual das baleias-jubarte?",
                options: ["Criticamente amea√ßada", "Em recupera√ß√£o", "Extinta", "Abundante"],
                correct: 1,
                explanation: "Gra√ßas aos esfor√ßos de conserva√ß√£o, as baleias-jubarte est√£o em recupera√ß√£o, mas ainda precisam de prote√ß√£o."
            },
            {
                question: "As baleias-jubarte s√£o conhecidas por:",
                options: ["Serem silenciosas", "Seus cantos complexos", "Viverem sozinhas", "N√£o migrarem"],
                correct: 1,
                explanation: "As baleias-jubarte s√£o famosas por seus cantos complexos e melodiosos, especialmente os machos durante a √©poca reprodutiva."
            },
            {
                question: "Quantos filhotes uma baleia-jubarte tem por vez?",
                options: ["1 filhote", "2-3 filhotes", "4-5 filhotes", "6-8 filhotes"],
                correct: 0,
                explanation: "As baleias-jubarte normalmente t√™m apenas 1 filhote por gesta√ß√£o, ap√≥s 11-12 meses de gravidez."
            },
            {
                question: "Em que √©poca do ano ocorre a migra√ß√£o para o Brasil?",
                options: ["Ver√£o", "Outono", "Inverno", "Primavera"],
                correct: 2,
                explanation: "A migra√ß√£o para o Brasil ocorre no inverno austral (junho-setembro), quando buscam √°guas mais quentes."
            },
            {
                question: "Qual √© a velocidade m√©dia das baleias-jubarte durante a migra√ß√£o?",
                options: ["2-5 km/h", "8-15 km/h", "20-25 km/h", "30-40 km/h"],
                correct: 1,
                explanation: "Durante a migra√ß√£o, as baleias-jubarte viajam a uma velocidade m√©dia de 8-15 km/h."
            },
            {
                question: "O que mais amea√ßa as baleias-jubarte atualmente?",
                options: ["Predadores naturais", "Colis√µes com navios", "Mudan√ßas clim√°ticas", "Todas as anteriores"],
                correct: 3,
                explanation: "As principais amea√ßas incluem colis√µes com navios, mudan√ßas clim√°ticas, polui√ß√£o sonora e emaranhamento em redes."
            },
            {
                question: "As baleias-jubarte podem ser identificadas individualmente por:",
                options: ["Sua cor", "Padr√£o da cauda", "Tamanho", "Velocidade"],
                correct: 1,
                explanation: "Cada baleia-jubarte tem um padr√£o √∫nico na parte inferior da cauda, como uma impress√£o digital."
            },
            {
                question: "Qual √© a expectativa de vida das baleias-jubarte?",
                options: ["20-30 anos", "40-50 anos", "60-80 anos", "100+ anos"],
                correct: 2,
                explanation: "As baleias-jubarte podem viver entre 60-80 anos, algumas chegando aos 90 anos em condi√ß√µes ideais."
            }
        ];

        // Simple progress tracking

        // Initialize game
        function initGame() {
            updateUI();
            updateProgress(); // Initialize whale position and checkpoints
            showCurrentQuestion();
        }

        // Update UI elements
        function updateUI() {
            document.getElementById('score').textContent = score;
            document.getElementById('current-question').textContent = currentQuestion;
        }

        // Update progress
        function updateProgress() {
            updateWhalePosition();
            updateCheckpoints();
            updateProgressTrail();
            createProgressParticles();
        }

        // Update whale position based on progress
        function updateWhalePosition() {
            const whale = document.getElementById('whale-sprite');
            const progress = (currentQuestion - 1) / 15;
            
            // Calculate whale position (2% to 90% of screen width)
            const whalePosition = 2 + (progress * 88);
            whale.style.left = whalePosition + '%';
            
            // Add splash effect when moving
            if (currentQuestion > 1) {
                const splash = whale.querySelector('.water-splash');
                splash.style.left = '-10px';
                splash.style.animation = 'splash 1s ease-out';
                
                setTimeout(() => {
                    splash.style.animation = 'splash 1s ease-out infinite';
                }, 1000);
            }
        }

        // Update checkpoint completion
        function updateCheckpoints() {
            const checkpointsPerStage = Math.ceil(15 / 4); // ~4 questions per checkpoint
            const completedCheckpoints = Math.floor((currentQuestion - 1) / checkpointsPerStage);
            
            for (let i = 1; i <= 4; i++) {
                const checkpoint = document.getElementById(`checkpoint-${i}`);
                if (i <= completedCheckpoints + 1) {
                    checkpoint.classList.add('completed');
                }
            }
        }

        // Update progress trail
        function updateProgressTrail() {
            const trail = document.getElementById('progress-trail');
            const progress = ((currentQuestion - 1) / 15) * 100;
            trail.style.width = progress + '%';
        }

        // Create progress particles
        function createProgressParticles() {
            const whalePosition = document.getElementById('whale-sprite').style.left;
            const numericPosition = parseFloat(whalePosition);
            
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'progress-particle';
                    particle.style.left = (numericPosition + Math.random() * 5 - 2.5) + '%';
                    particle.style.top = (58 + Math.random() * 4) + '%';
                    particle.style.animationDelay = Math.random() * 0.5 + 's';
                    
                    // Random colors for particles
                    const colors = ['#00ffff', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7'];
                    particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                    
                    document.querySelector('.world-map').appendChild(particle);
                    
                    setTimeout(() => {
                        if (particle.parentNode) {
                            particle.parentNode.removeChild(particle);
                        }
                    }, 3000);
                }, i * 200);
            }
        }

        // Show current question
        function showCurrentQuestion() {
            if (currentQuestion > 15) {
                showVictoryScreen();
                return;
            }

            const modal = document.getElementById('quiz-modal');
            const question = document.getElementById('quiz-question');
            const optionsContainer = document.getElementById('quiz-options');
            const result = document.getElementById('quiz-result');
            const continueBtn = document.getElementById('continue-btn');
            
            const currentQuiz = quizData[currentQuestion - 1];
            
            question.textContent = currentQuiz.question;
            
            // Clear previous options
            optionsContainer.innerHTML = '';
            result.style.display = 'none';
            continueBtn.style.display = 'none';
            
            // Create option buttons
            currentQuiz.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'quiz-option';
                button.textContent = option;
                button.addEventListener('click', () => handleAnswer(index, currentQuiz));
                optionsContainer.appendChild(button);
            });
            
            modal.style.display = 'flex';
            modal.classList.add('active'); // Pause background animations
        }

        // Handle quiz answer
        function handleAnswer(selectedIndex, quizData) {
            const options = document.querySelectorAll('.quiz-option');
            const result = document.getElementById('quiz-result');
            const continueBtn = document.getElementById('continue-btn');
            
            // Disable all options
            options.forEach(option => option.style.pointerEvents = 'none');
            
            // Show correct/incorrect
            if (selectedIndex === quizData.correct) {
                options[selectedIndex].classList.add('correct');
                result.className = 'quiz-result correct';
                result.textContent = 'üéâ Correto! ' + quizData.explanation;
                score += 100;
                correctAnswers++;
            } else {
                options[selectedIndex].classList.add('incorrect');
                options[quizData.correct].classList.add('correct');
                result.className = 'quiz-result incorrect';
                result.textContent = '‚ùå Incorreto. ' + quizData.explanation;
                score += 25; // Partial points for trying
            }
            
            result.style.display = 'block';
            continueBtn.style.display = 'block';
            
            updateUI();
        }

        // Animation data for each milestone
        const animationData = {
            3: {
                title: "üêã Chegando √† Ant√°rtida! üêã",
                description: "A baleia-jubarte chegou √†s √°guas geladas da Ant√°rtida, onde se alimenta de krill nutritivo para ganhar energia para a longa jornada!"
            },
            6: {
                title: "üåä Navegando pelo Atl√¢ntico Sul! üåä",
                description: "Nossa baleia est√° cruzando as vastas √°guas do Atl√¢ntico Sul, nadando milhares de quil√¥metros em dire√ß√£o √†s √°guas mais quentes!"
            },
            9: {
                title: "üèùÔ∏è Chegando ao Litoral Brasileiro! üèùÔ∏è",
                description: "A baleia-jubarte alcan√ßou as √°guas tropicais do Brasil! Aqui ela encontra o ambiente perfeito para reprodu√ß√£o!"
            },
            12: {
                title: "üåÖ Chegando ao Ber√ß√°rio! üåÖ",
                description: "Nossa baleia chegou ao ber√ß√°rio dourado! Aqui ela dar√° √† luz e cuidar√° de seu filhote em √°guas seguras e quentes!"
            },
            15: {
                title: "üë∂ Jornada Completa - M√£e e Filhote! üë∂",
                description: "Parab√©ns! A baleia-jubarte completou sua incr√≠vel migra√ß√£o de 25.000 km e agora nada com seu filhote rec√©m-nascido!"
            }
        };

        // Show animation screen
        function showAnimationScreen(questionNum) {
            const animationScreen = document.getElementById('animation-screen');
            const animationTitle = document.getElementById('animation-title');
            const animationDescription = document.getElementById('animation-description');
            const animationContainer = document.getElementById('whale-animation-container');
            const animationWhale = document.getElementById('animation-whale');
            const babyWhale = document.getElementById('baby-whale');
            
            const data = animationData[questionNum];
            animationTitle.textContent = data.title;
            animationDescription.textContent = data.description;
            
            // Set appropriate scene background
            animationContainer.className = 'whale-animation-container';
            switch(questionNum) {
                case 3:
                    animationContainer.classList.add('antarctica-scene');
                    break;
                case 6:
                    animationContainer.classList.add('atlantic-scene');
                    break;
                case 9:
                    animationContainer.classList.add('brazil-scene');
                    break;
                case 12:
                case 15:
                    animationContainer.classList.add('nursery-scene');
                    break;
            }
            
            // Reset whale positions
            animationWhale.style.left = '-100px';
            animationWhale.style.transition = 'none';
            babyWhale.style.opacity = '0';
            babyWhale.style.left = '-60px';
            babyWhale.style.transition = 'none';
            
            animationScreen.style.display = 'flex';
            
            // Animate whale swimming across
            setTimeout(() => {
                animationWhale.style.transition = 'left 4s ease-in-out';
                if (questionNum === 15) {
                    // For final scene, whale comes from left and meets baby in center
                    animationWhale.style.left = '40%';
                } else {
                    animationWhale.style.left = 'calc(100% + 50px)';
                }
            }, 800);
            
            // Show baby whale for final animation
            if (questionNum === 15) {
                setTimeout(() => {
                    babyWhale.style.transition = 'opacity 2s ease-in-out, left 3s ease-in-out';
                    babyWhale.style.opacity = '1';
                    babyWhale.style.left = '55%'; // Baby meets mother in center
                }, 1500);
            }
        }

        // Continue from animation
        document.getElementById('continue-animation-btn').addEventListener('click', () => {
            const animationScreen = document.getElementById('animation-screen');
            animationScreen.style.display = 'none';
            
            if (currentQuestion > 15) {
                showVictoryScreen();
            } else {
                setTimeout(() => {
                    showCurrentQuestion();
                }, 1000);
            }
        });

        // Continue to next question
        document.getElementById('continue-btn').addEventListener('click', () => {
            const modal = document.getElementById('quiz-modal');
            modal.style.display = 'none';
            modal.classList.remove('active'); // Resume background animations
            
            currentQuestion++;
            updateProgress();
            updateUI();
            
            // Check if we should show animation
            if (animationData[currentQuestion - 1]) {
                setTimeout(() => {
                    showAnimationScreen(currentQuestion - 1);
                }, 1500);
            } else if (currentQuestion > 15) {
                setTimeout(() => {
                    showVictoryScreen();
                }, 2000);
            } else {
                setTimeout(() => {
                    showCurrentQuestion();
                }, 1500);
            }
        });

        // Show victory screen
        function showVictoryScreen() {
            const victoryScreen = document.getElementById('victory-screen');
            const finalScore = document.getElementById('final-score');
            const correctAnswersSpan = document.getElementById('correct-answers');
            
            finalScore.textContent = score;
            correctAnswersSpan.textContent = correctAnswers;
            victoryScreen.style.display = 'flex';
        }

        // Restart game
        function restartGame() {
            currentQuestion = 1;
            score = 0;
            correctAnswers = 0;
            
            // Hide victory screen
            document.getElementById('victory-screen').style.display = 'none';
            
            // Reset checkpoints
            for (let i = 1; i <= 4; i++) {
                const checkpoint = document.getElementById(`checkpoint-${i}`);
                checkpoint.classList.remove('completed');
            }
            
            // Reset whale position
            const whale = document.getElementById('whale-sprite');
            whale.style.left = '2%';
            
            // Reset progress trail
            const trail = document.getElementById('progress-trail');
            trail.style.width = '0%';
            
            // Reset UI and start game
            updateUI();
            updateProgress();
            showCurrentQuestion();
        }

        // Start the game when page loads
        window.addEventListener('load', initGame);

        // Add ocean ambiance with bubbles
        function createBubble() {
            const bubble = document.createElement('div');
            bubble.style.position = 'absolute';
            bubble.style.width = Math.random() * 10 + 5 + 'px';
            bubble.style.height = bubble.style.width;
            bubble.style.background = 'rgba(255,255,255,0.6)';
            bubble.style.borderRadius = '50%';
            bubble.style.left = Math.random() * 100 + '%';
            bubble.style.top = '100%';
            bubble.style.animation = 'bubbleRise 6s linear forwards';
            bubble.style.zIndex = '1';
            
            const keyframes = `
                @keyframes bubbleRise {
                    0% { 
                        transform: translateY(0) scale(0.5);
                        opacity: 0;
                    }
                    10% { opacity: 1; }
                    90% { opacity: 1; }
                    100% { 
                        transform: translateY(-100vh) scale(1.2);
                        opacity: 0;
                    }
                }
            `;
            
            if (!document.querySelector('#bubble-animation')) {
                const style = document.createElement('style');
                style.id = 'bubble-animation';
                style.textContent = keyframes;
                document.head.appendChild(style);
            }
            
            document.querySelector('.world-map').appendChild(bubble);
            
            setTimeout(() => {
                if (bubble.parentNode) {
                    bubble.parentNode.removeChild(bubble);
                }
            }, 6000);
        }

        // Create bubbles periodically
        setInterval(createBubble, 2000);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98ea9c43a3452538',t:'MTc2MDQ4MTk2MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
